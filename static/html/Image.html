<h2 class="page-header">Image Helper</h2>
            <div id="trans" class="row">
                <div class="col-md-4">
                    <p>
                        URL Import(.txt only)
                    </p>
                    <div class="input-group">
                        <input class="form-control" type="file" id="file_Input">
                        <span class="input-group-btn">
                <input type="button" class="btn btn-primary" value="Import" id="import_Txt"/>
            </span>
                    </div>

                    <p>URL Input</p>
                    <p>
                        <textarea rows="5" id="urls_" v-model="urls" class="form-control"></textarea>
                    </p>

                    <button id="btn_Quest" class="btn btn-primary">Query</button>
                    <button id="btn_Clear" class="btn btn-primary">Clear</button>
                </div>
                <div class="col-md-8">
                    <p class="col-md-3">
                        <label>
                            <input type="radio" name="optionsRadios" id="rdExcel" value="excel" checked>
                            Excel
                        </label>
                        <label>
                            <input type="radio" name="optionsRadios" id="rdHTML" value="html">
                            HTML
                        </label>
                    </p>
                    <p class="col-md-5 exbutton">
                        <button id="getExcel" class="btn btn-primary">Export</button>
                    </p>

                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>URL</th>
                            <th> All Image of page</th>
                        </tr>
                        </thead>
                        <tbody id="res_Container">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!--<script src="../../node_modules/vue/dist/vue.js"></script>-->
<!--<script src="../../node_modules/jquery/dist/jquery.js"></script>-->
<script>

//    const url_Input = $("#urls_");
    //const res_Container = $('#res_Container');
    $("#import_Txt").click(() => {
        if ($("#file_Input")[0].files.length >= 1) {
            const file = $("#file_Input")[0].files[0];
            let reader = new FileReader();
            reader.onload = function () {
                $("#file_Input").val(this.result);
                $("#file_Input").val("");
            };
            reader.readAsText(file);
        }
    });

    $('#btn_Clear').click(() => {
        $("#urls_").val('');
    });

    $('#btn_Quest').click(() => {
        if ($("#urls_").val().length > 5) {
            $('#res_Container').html('');
            $.post('/api/wechat', {urls: $("#urls_").val()}, function (data) {
                if (data) {
                    let str = '';
                    data.forEach((item, index) => {
                        str += `<tr>
                                    <td><a href="${item.url}" target="_blank">${item.url}</a></td>
                                    <td class="text-center"><img src="${item.USwechaturl}" style="height:50px; width:50px "></td>
                                    <td class="text-center"><img src="${item.CNwechaturl}" style="height:50px; width:50px "></td>
                                </tr>`
                    });
                    $('#res_Container').html(str);
                }
            });
        } else {
            console.log("null");
        }
    });
    $("#getExcel").click(()=>{
        if($("#urls_").val().length>0){
            const arr=$("#res_Container").html();
            $.post('/api/trans2xls',{xls:JSON.stringify(arr),type: document.querySelector("input[name=optionsRadios]:checked").value},function (data) {
                $(this).text('../data/${data}');
            })
        }

    })
    /*var app = new Vue({
        el: '#trans',
        data: {
            arr: [],
            urls: "",
            excelUrl: "",
            excelName: ""
        },
        methods: {
            quest: function () {
                if(this.urls.length > 5){
                    var that = this;
                    $.post('/api/wechat', {urls: this.urls}, function (data) {
                        console.log(data);
                        that.arr = data;
                    });
                }else{
                    console.log("null");
                }
            },
            getExcel: function () {
                if(this.arr.length > 0){
                    var that = this;
                    $.post('/api/wechat2xls', {xls: JSON.stringify(this.arr), type: document.querySelector("input[name=optionsRadios]:checked").value}, function (data) {
                        console.log(data);
                        that.excelName = data;
                        that.excelUrl = `../data/${data}`;
                    });
                }else{
                    console.log('cant');
                }
            },
            importTxt: function () {
                var that = this;
                var fileInput = document.querySelector("#fileInput");
                if(fileInput.files.length >= 1){
                    var file = document.querySelector("#fileInput").files[0];
                    var reader = new FileReader();
                    reader.onload = function () {
                        console.log(this.result);
                        that.urls += this.result;
                        fileInput.value = "";
                    };
                    reader.readAsText(file);
                }
            },
            clear:function() {
                $("#urls").val('');
            }
        }
    });*/
</script>
</body>
</html>